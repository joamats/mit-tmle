# Go through all treatments
for (treatment in treatments) {
# Stratified SOFAs - logs as outputs
#tmle_stratified_sofas(sepsis_data, treatment, cohort)
# Stratified SOFAs && Year - plots as outputs
res <- tmle_stratified_sofas_year(sepsis_data, treatment, cohort)
}
source("src/r_scripts/tmle/tmle.R")
source("src/r_scripts/utils/load_data.R")
source("src/r_scripts/tmle/plot_results.R")
# List with possible invasive treatments
treatments <- list("ventilation_bin","rrt", "pressor")
# List with possible datasets
cohorts <- list("eICU") # add eICU / MIMIC
for (cohort in cohorts) {
# Load Data
sepsis_data <- load_data(cohort)
# Go through all treatments
for (treatment in treatments) {
# Stratified SOFAs - logs as outputs
#tmle_stratified_sofas(sepsis_data, treatment, cohort)
# Stratified SOFAs && Year - plots as outputs
res <- tmle_stratified_sofas_year(sepsis_data, treatment, cohort)
}
}
View(res)
View(res)
res[1]
res[2]
res[3]
res[3]$result$estimates$ATE$CI[1]
res[3]$result$estimates
res[3]$result$estimates$ATE
res[3]$result$estimates$ATE$psi
res[3]$result$estimates$ATE$psi[1]
res[7]$result$estimates$ATE$psi[1]
res[6]$result$estimates$ATE$psi[1]
res[13]$result$estimates$ATE$psi[1]
res[12]$result$estimates$ATE$psi[1]
res[6]$result$estimates$ATE$psi
F <- runif(3,1,2)
F
F[4] <- 1.03485
F
